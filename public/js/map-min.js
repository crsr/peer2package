(function(){var o,e,t,n,i,a;e=null,t=null,a=io(),o=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(i):x.innerHTML="Geolocation is not supported by this browser."},i=function(o){var n,i,r,c;e=o.coords.latitude,t=o.coords.longitude,mapboxgl.accessToken="pk.eyJ1IjoiamFtZXNhZGlja2Vyc29uIiwiYSI6ImNpbmNidGJqMzBwYzZ2OGtxbXljY3FrNGwifQ.5pIvQjtuO31x4OZm84xycw",n=new mapboxgl.Map({container:"map",style:"mapbox://styles/jamesadickerson/ciq1h3u9r0009b1lx99e6eujf",zoom:19,center:[t,e]}),c="http://localhost:8000/user_location",r=new mapboxgl.GeoJSONSource({data:c}),window.setInterval(function(){var o;navigator.geolocation.getCurrentPosition(function(o){e=o.coords.latitude,t=o.coords.longitude}),o=t+","+e,a.emit("LngLat",o),r.setData(c)},1e3),n.on("load",function(){n.addSource("You",r),n.addLayer({id:"You",type:"circle",source:"You",paint:{"circle-radius":20,"circle-color":"#E65D5D"}})}),n.on("click",function(o){var e,t,i;t=n.queryRenderedFeatures(o.point,{layers:["You"]}),t.length&&(e=t[0],i=(new mapboxgl.Popup).setLngLat(e.geometry.coordinates).setHTML(e.properties.description).addTo(n))}),i=document.getElementById("preloader"),setTimeout(function(){i.classList.add("hidden")},0)},n=function(){map.flyTo({center:[t,e]})},window.onload=function(){o()}}).call(this);