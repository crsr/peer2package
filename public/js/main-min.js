(function(){var e;e=angular.module("peer2package",["ui.router","ngStorage"]),e.config(function(e,t){return e.state("main",{templateUrl:"home.html",controller:"mainController"}).state("account",{templateUrl:"account.html",controller:"accountController"}).state("map",{templateUrl:"map.html",controller:"mapController"}).state("map2",{templateUrl:"map2.html",controller:"mapController"}).state("photoUpload",{templateUrl:"photo_upload.html",controller:"photoController"}).state("gps",{templateUrl:"gps.html",controller:"gpsController"})}),e.controller("mainController",function(e,t){if(t.token)return e.token=t.token}),e.controller("menuController",function(e,t,o){var n,s,l;return e.message=null,n=document.getElementById("arrow"),l=document.getElementById("logout"),s=document.getElementById("home"),e.loggedIn=function(){var e;return e=document.getElementById("menubox"),e.classList.add("loggedIn")},e.submitReg=function(){return t.post("/register",e.regForm.user).then(function(t){if(s.classList.add("active"),n.classList.remove("logoout"),l.classList.remove("active"),e.token=t.data.token||null,e.messageReg=t.data.message,t.data.token)return o.token=t.data.token,e.loggedIn()})},e.submitLog=function(){return t.post("/login",e.loginForm.user).then(function(t){if(s.classList.add("active"),n.classList.remove("logout"),l.classList.remove("active"),e.token=t.data.token||null,e.messageLog=t.data.message,t.data.token)return o.token=t.data.token,e.loggedIn()})},e.logout=function(){var t;return t=document.getElementById("menubox"),e.regForm.user={},e.loginForm.user={},t.classList.remove("loggedIn"),o.$reset()}}),e.controller("mapController",function(e,t){return e.map=null,e.lat=null,e.lng=null}),e.controller("gpsController",function(e){return e.$on("$viewContentLoaded",function(){var e;return mapboxgl.accessToken="pk.eyJ1IjoiamFtZXNhZGlja2Vyc29uIiwiYSI6ImNpbmNidGJqMzBwYzZ2OGtxbXljY3FrNGwifQ.5pIvQjtuO31x4OZm84xycw",e=new mapboxgl.Map({container:"map",style:"mapbox://styles/jamesadickerson/ciq1h3u9r0009b1lx99e6eujf",zoom:19,pitch:45,center:[-80,34]})})}),e.controller("accountController",function(e){}),e.controller("photoController",function(e){}),e.factory("socket",function(e){var t;return t=io.connect(),{on:function(o,n){t.on(o,function(){var o;o=arguments,e.$apply(function(){n.apply(t,o)})})},emit:function(o,n,s){t.emit(o,n,function(){var o;o=arguments,e.$apply(function(){s&&s.apply(t,o)})})}}}),e.directive("menuChange",function(){return{restrict:"AE",link:function(){var e,t,o,n,s,l,a;return l=document.getElementById("menu"),a=document.getElementById("side-nav-menu"),e=document.getElementById("arrow"),o=document.getElementById("home"),t=document.getElementById("account"),s=document.getElementById("gps"),n=document.getElementById("logout"),l.addEventListener("click",function(){return l.classList.toggle("open"),a.classList.toggle("nav-open")}),t.addEventListener("click",function(){return e.classList.add("account"),e.classList.remove("home"),e.classList.remove("map"),e.classList.remove("logout"),t.classList.add("active"),o.classList.remove("active"),s.classList.remove("active"),n.classList.remove("active"),setTimeout(function(){return l.classList.toggle("open"),a.classList.toggle("nav-open")},500)}),o.addEventListener("click",function(){return e.classList.add("home"),e.classList.remove("account"),e.classList.remove("map"),e.classList.remove("logout"),o.classList.add("active"),t.classList.remove("active"),s.classList.remove("active"),n.classList.remove("active"),setTimeout(function(){return l.classList.toggle("open"),a.classList.toggle("nav-open")},500)}),s.addEventListener("click",function(){return e.classList.add("map"),e.classList.remove("account"),e.classList.remove("home"),e.classList.remove("logout"),s.classList.add("active"),o.classList.remove("active"),t.classList.remove("active"),n.classList.remove("active"),setTimeout(function(){return l.classList.toggle("open"),a.classList.toggle("nav-open")},500)}),n.addEventListener("click",function(){return e.classList.add("logout"),e.classList.remove("map"),e.classList.remove("account"),e.classList.remove("home"),n.classList.add("active"),s.classList.remove("active"),o.classList.remove("active"),t.classList.remove("active")})}}})}).call(this);