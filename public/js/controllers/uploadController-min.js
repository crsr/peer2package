(function(){var t;t=angular.module("peer2package"),t.controller("uploadController",["$scope","Upload","$timeout","userService","$state",function(t,o,a,e,n){return e.getPhoto(),t.upload=function(e,l){o.upload({url:"/photoUpload",data:{file:o.dataUrltoBlob(e,l)}}).then(function(o){n.go("account"),a(function(){t.result=o.data})},function(o){o.status>0&&(t.errorMsg=o.status+": "+o.data)},function(o){t.progress=parseInt(100*o.loaded/o.total)})}}])}).call(this);