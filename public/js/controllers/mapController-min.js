(function(){var e;e=angular.module("peer2package"),e.controller("mapController",["$scope","mapService","socket","userService","$http",function(e,r,n,t,s){return e.chat_open=!1,e.selectedUser=null,e.Users=null,e.currentUser=t.currentUser(),s.get("/users").success(function(r){return e.Users=r.names}),e.open_chat=function(){return e.chat_open=!0},e.close_chat=function(){return e.chat_open=!1},e.submitChat=function(r){return n.emit("chat message",{from:e.currentUser.fname+" "+e.currentUser.lname,message:r,to:e.selectedUser}),e.sent=r,e.message=""},n.on("chat message",function(e){var r;return r=angular.element(document.querySelector("#messages > ul")),r.append("<li>"+e+"</li>")})}])}).call(this);