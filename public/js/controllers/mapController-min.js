(function(){var e;e=angular.module("peer2package"),e.controller("mapController",["$scope","mapService","socket","userService","$http",function(e,n,r,t,s){return e.chat_open=!1,e.selectedUser=null,e.Users=null,console.log(t.currentUser()),s.get("/users").success(function(n){return e.Users=n.names}).then(function(){return console.log(e.Users)}),e.open_chat=function(){return e.chat_open=!0},e.close_chat=function(){return e.chat_open=!1},e.submitChat=function(n){return r.emit("chat message",{from:t.currentUser().fname+" "+t.currentUser().lname,message:n,to:e.selectedUser}),e.sent=n,e.message=""},r.on("chat message",function(e){var n;return n=angular.element(document.querySelector("#messages > ul")),n.append("<li>"+e+"</li>")})}])}).call(this);